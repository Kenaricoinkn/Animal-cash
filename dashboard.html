<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Animals Cash — Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="css/styles.css"/>
  <link rel="stylesheet" href="css/bg-anim.css"/>
</head>
<body class="text-slate-100 min-h-screen flex flex-col bg-anim">

  <!-- Gradient defs untuk semua ikon (sekali saja) -->
  <svg id="ic-defs" aria-hidden="true">
    <defs>
      <linearGradient id="icGrad" x1="0" y1="0" x2="1" y2="1">
        <stop offset="0%"  stop-color="#b1f8ff"/>
        <stop offset="100%" stop-color="#9be7c7"/>
      </linearGradient>
    </defs>
  </svg>

  <!-- Top bar -->
  <header class="px-4 pt-4">
    <div class="flex items-center justify-between">
      <!-- Judul -->
      <div class="min-w-0">
        <span class="brand-title truncate">Animals Cash</span>
      </div>
      <!-- Aksi: chat + bahasa -->
      <div class="flex items-center gap-2">
        <button class="icon-chip" aria-label="pesan">💬</button>
        <button id="btnLanguage" class="lang-chip">
          <span>🌐</span><span id="langLabel">bahasa Indonesia</span>
        </button>
      </div>
    </div>
    <!-- Search bar -->
    <div class="mt-3 search-pill"></div>
  </header>

  <!-- Loader sebelum auth cek -->
  <div id="gate" class="px-4 py-8 text-center text-slate-300">Memuat...</div>

  <!-- Scroll area (disembunyikan dulu, muncul setelah login) -->
  <main id="app" class="hidden flex-1 px-4 pb-28">

    <!-- Banner -->
    <section class="rounded-2xl overflow-hidden mb-4 ring-1 ring-white/10">
      <img
        loading="lazy"
        src="https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d?q=80&w=800&auto=format&fit=crop"
        srcset="
          https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d?q=80&w=480&auto=format&fit=crop 480w,
          https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d?q=80&w=800&auto=format&fit=crop 800w,
          https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d?q=80&w=1200&auto=format&fit=crop 1200w
        "
        sizes="(max-width:640px) 100vw, 800px"
        alt="banner"
        class="w-full h-40 object-cover opacity-90">
    </section>

    <!-- Cards total -->
    <section class="grid grid-cols-2 gap-3 mb-4">
      <div class="glass p-4 rounded-2xl">
        <div class="text-slate-300 text-sm">Total aset</div>
        <div class="text-2xl font-bold">0 <span class="text-sm">USDT</span></div>
        <div class="text-xs text-slate-400">≈ $ 0</div>
      </div>
      <div class="glass p-4 rounded-2xl">
        <div class="text-slate-300 text-sm">Akun Kuantitatif</div>
        <div class="text-2xl font-bold">0.00 <span class="text-sm">USDT</span></div>
        <div class="text-xs text-slate-400">≈ $ 0.00</div>
      </div>
    </section>

    <!-- HOME (ikon glossy) -->
    <section id="homeGrid" class="glass p-4 rounded-2xl tab-content">
      <div class="grid grid-cols-4 gap-4 text-center">

        <!-- Isi ulang -->
        <a class="menu-item" href="javascript:void(0)">
          <div class="menu-circle">
            <svg class="menu-icon" viewBox="0 0 24 24">
              <circle class="fill" cx="12" cy="12" r="5" opacity=".18"></circle>
              <path d="M12 7v10M9 10.5h6M9 13.5h6"></path>
            </svg>
          </div>
          <span class="menu-title">Isi ulang</span>
        </a>

        <!-- Menarik -->
        <a class="menu-item" href="javascript:void(0)">
          <div class="menu-circle">
            <svg class="menu-icon" viewBox="0 0 24 24">
              <rect x="3" y="6.5" width="18" height="11" rx="2"></rect>
              <line x1="6" y1="10" x2="18" y2="10"></line>
              <rect class="fill" x="6" y="13" width="4" height="2.5" rx="0.6" opacity=".3"></rect>
            </svg>
          </div>
          <span class="menu-title">Menarik</span>
        </a>

        <!-- Membantu -->
        <a class="menu-item" href="javascript:void(0)">
          <div class="menu-circle">
            <svg class="menu-icon" viewBox="0 0 24 24">
              <path d="M12 6a5 5 0 0 1 5 5c0 1.9-1 2.9-2 3.8-.5.45-.9 1.05-1 1.7h-4c-.1-.65-.5-1.25-1-1.7-1-.9-2-1.9-2-3.8a5 5 0 0 1 5-5Z"></path>
              <line x1="10" y1="19" x2="14" y2="19"></line>
            </svg>
          </div>
          <span class="menu-title">Membantu</span>
        </a>

        <!-- Tim -->
        <a class="menu-item" href="javascript:void(0)">
          <div class="menu-circle">
            <svg class="menu-icon" viewBox="0 0 24 24">
              <circle cx="9" cy="9" r="3"></circle>
              <circle cx="16" cy="10" r="2.5"></circle>
              <path d="M4.5 18a4.5 4.5 0 0 1 9 0"></path>
              <path d="M13.5 18a3.5 3.5 0 0 1 7 0"></path>
            </svg>
          </div>
          <span class="menu-title">Tim</span>
        </a>

        <!-- Aktivitas -->
        <a class="menu-item" href="javascript:void(0)">
          <div class="menu-circle">
            <svg class="menu-icon" viewBox="0 0 24 24">
              <rect x="4.5" y="5" width="15" height="14" rx="1.6"></rect>
              <polyline points="8,9.5 12,9.5"></polyline>
              <polyline points="8,13 16,13"></polyline>
              <polyline points="8,16 13,16"></polyline>
            </svg>
          </div>
          <span class="menu-title">Aktivitas</span>
        </a>

        <!-- Mengundang teman -->
        <a class="menu-item" data-tab="invite" href="javascript:void(0)">
          <div class="menu-circle">
            <svg class="menu-icon" viewBox="0 0 24 24">
              <path d="M4 7.5l8 6 8-6"></path>
              <rect x="4" y="6" width="16" height="12" rx="2"></rect>
            </svg>
          </div>
          <span class="menu-title">Mengundang teman-teman</span>
        </a>

        <!-- Kerjasama Agen -->
        <a class="menu-item" href="javascript:void(0)">
          <div class="menu-circle">
            <svg class="menu-icon" viewBox="0 0 24 24">
              <path d="M8 13l3 3 6-6"></path>
              <rect x="4.5" y="5" width="15" height="14" rx="1.6"></rect>
            </svg>
          </div>
          <span class="menu-title">Kerjasama Agen</span>
        </a>

        <!-- Berita -->
        <a class="menu-item" href="javascript:void(0)">
          <div class="menu-circle">
            <svg class="menu-icon" viewBox="0 0 24 24">
              <rect x="5" y="5" width="14" height="14" rx="1.6"></rect>
              <rect class="fill" x="7.5" y="7.5" width="6" height="3" rx="0.6" opacity=".25"></rect>
              <line x1="7.5" y1="12.5" x2="16.5" y2="12.5"></line>
              <line x1="7.5" y1="15.5" x2="13.5" y2="15.5"></line>
            </svg>
          </div>
          <span class="menu-title">Berita</span>
        </a>

      </div>
    </section>

    <!-- FARM -->
    <section id="farmTab" class="hidden tab-content">
      <h2 class="text-lg font-semibold mb-3">Farm</h2>
      <div class="glass p-4 rounded-2xl text-sm text-slate-300">
        Konten “Farm” akan ditambahkan di sini.
      </div>
    </section>

    <!-- INVITE -->
    <section id="inviteTab" class="hidden tab-content">
      <h2 class="text-lg font-semibold mb-2">Mengundang teman</h2>
      <div class="glass p-4 rounded-2xl">
        <p class="text-sm text-slate-300 mb-2">Bagikan tautan undangan Anda untuk mendapatkan bonus.</p>
        <div class="flex gap-2">
          <input id="inviteLink" class="flex-1 rounded-xl bg-slate-900/60 border border-white/10 px-3 py-2" readonly value="https://example.com/invite/ABC123"/>
          <button id="copyInvite" class="btn-primary px-3 py-2 rounded-xl text-sm">Salin</button>
        </div>
      </div>
    </section>

    <!-- PROFILE -->
    <section id="profileTab" class="hidden tab-content">
      <h2 class="text-lg font-semibold mb-2">Aku</h2>
      <div class="glass p-4 rounded-2xl">
        <div class="text-sm"><span class="text-slate-400">UID:</span> <span id="uid">—</span></div>
        <div class="text-sm"><span class="text-slate-400">Masuk sebagai</span>: <span id="who">—</span></div>
      </div>
    </section>
  </main>

  <!-- Bottom Tabbar -->
  <nav class="fixed left-0 right-0 bottom-0 px-4 py-2 bg-slate-900/80 backdrop-blur border-t border-white/10">
    <div class="grid grid-cols-4 text-center">
      <button class="tabbtn tab-active" data-tab="home">
        <div>🏠</div><div class="text-xs">Rumah</div>
      </button>
      <button class="tabbtn" data-tab="farm">
        <div>🌾</div><div class="text-xs">Farm</div>
      </button>
      <button class="tabbtn" data-tab="invite">
        <div>💌</div><div class="text-xs">Mengundang teman</div>
      </button>
      <button class="tabbtn" data-tab="profile">
        <div>👤</div><div class="text-xs">Aku</div>
      </button>
    </div>
  </nav>

  <!-- Language Sheet -->
  <div id="langSheet" class="fixed inset-0 hidden">
    <div class="absolute inset-0 bg-black/60" data-close></div>
    <div class="absolute left-0 right-0 bottom-0 rounded-t-3xl glass p-4 max-h-[70vh] overflow-auto">
      <h3 class="text-center text-base font-semibold mb-3">language</h3>
      <ul id="langList" class="divide-y divide-white/5"></ul>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/app-core.js" defer></script>
  <script type="module" src="js/firebase-init.js"></script>
  <script type="module" src="js/i18n.js"></script>
  <script type="module" src="js/lazy-component.js"></script>
  <script type="module" src="js/dashboard.js"></script>

  <!-- (opsional) Service Worker untuk cache cepat -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js').catch(()=>{});
    }
  </script>
</body>
</html>
