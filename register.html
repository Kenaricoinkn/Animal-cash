<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Animals Cash â€” Daftar</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="css/styles.css"/>
  <link rel="stylesheet" href="css/bg-anim.css"/>
</head>
<body class="min-h-screen text-slate-100 bg-anim">
  <header class="px-4 pt-6">
    <h1 class="brand-title text-3xl">Animals Cash</h1>
  </header>

  <main class="px-4 pb-10 pt-6">
    <section class="glass rounded-2xl p-5 max-w-md mx-auto">
      <!-- Tabs -->
      <div class="flex gap-6 mb-4 border-b border-white/10">
        <button type="button" class="auth-tab tab-active pb-2" data-auth-tab="email">Daftar Email</button>
        <button type="button" class="auth-tab pb-2" data-auth-tab="phone">Daftar Telepon</button>
      </div>

      <!-- ===== Pane: EMAIL ===== -->
      <form id="formRegEmail" data-auth-pane="email" class="space-y-3">
        <label class="block text-sm text-slate-300">Email</label>
        <input id="regEmail" type="email"
               class="w-full rounded-xl bg-slate-900/60 border border-white/10 px-3 py-3"
               placeholder="nama@email.com" autocomplete="email" required/>

        <label class="block text-sm text-slate-300">Kata sandi</label>
        <div class="relative">
          <input id="regPassword" type="password"
                 class="w-full rounded-xl bg-slate-900/60 border border-white/10 px-3 py-3 pr-10"
                 placeholder="Minimal 6 karakter" autocomplete="new-password" required/>
          <button type="button" class="eye-btn" aria-label="Tampilkan/ sembunyikan sandi" data-eye="#regPassword"></button>
        </div>

        <button id="btnRegEmail" type="submit"
                class="btn-primary w-full mt-2 rounded-xl px-4 py-3 font-semibold">
          Daftar
        </button>
      </form>

      <!-- ===== Pane: PHONE ===== -->
      <form id="formRegPhone" data-auth-pane="phone" class="space-y-3 hidden">
        <label class="block text-sm text-slate-300">Telepon</label>
        <input id="regPhone" type="tel" inputmode="tel"
               class="w-full rounded-xl bg-slate-900/60 border border-white/10 px-3 py-3"
               placeholder="+62 812xxxxxxx" autocomplete="tel" required/>

        <label class="block text-sm text-slate-300">Kata sandi</label>
        <div class="relative">
          <input id="regPhonePass" type="password"
                 class="w-full rounded-xl bg-slate-900/60 border border-white/10 px-3 py-3 pr-10"
                 placeholder="Minimal 6 karakter" autocomplete="new-password" required/>
          <button type="button" class="eye-btn" aria-label="Tampilkan/ sembunyikan sandi" data-eye="#regPhonePass"></button>
        </div>

        <button id="btnRegPhone" type="submit"
                class="btn-primary w-full mt-2 rounded-xl px-4 py-3 font-semibold">
          Daftar
        </button>
      </form>

      <p class="text-center text-sm mt-4">
        Sudah punya akun? <a href="index.html" class="text-sky-300 underline">Masuk</a>
      </p>
    </section>
  </main>

  <!-- Scripts (URUTAN PENTING) -->
  <script src="js/app-core.js" defer></script>
  <script type="module" src="js/firebase-init.js"></script>
  <script type="module" src="js/auth-tabs.js"></script>
  <script type="module" src="js/register.js"></script>

  <!-- Fallback kecil untuk tombol mata -->
  <script>
    document.addEventListener('click', (e)=>{
      const t = e.target.closest('.eye-btn');
      if(!t) return;
      const sel = t.getAttribute('data-eye');
      const inp = document.querySelector(sel);
      if(!inp) return;
      inp.type = (inp.type === 'password') ? 'text' : 'password';
    });
  </script>
</body>
</html>
